

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Environment &mdash; MineRL 0.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Data" href="data.html" />
    <link rel="prev" title="Getting Started and Tutorials" href="../tutorials/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> MineRL
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">MineRL Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Getting Started and Tutorials</a></li>
</ul>
<p class="caption"><span class="caption-text">MineRL API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Environment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-minerl.env.core">MineRLEnv</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-minerl.env.malmo">InstanceManager</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data</a><ul class="simple">
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MineRL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Environment</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/env.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="environment">
<h1>Environment<a class="headerlink" href="#environment" title="Permalink to this headline">¶</a></h1>
<p>The <code class="code docutils literal notranslate"><span class="pre">minerl.env</span></code> package provides an optimized python
software layer over <cite>MineRLEnv</cite>, a fork of the popular Minecraft
simulator Malmo which enables <strong>synchronous</strong>, <strong>stable</strong>, and
<strong>fast</strong> samples from the Minecraft environment.</p>
<div class="section" id="module-minerl.env.core">
<span id="minerlenv"></span><h2>MineRLEnv<a class="headerlink" href="#module-minerl.env.core" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="minerl.env.core.MineRLEnv">
<em class="property">class </em><code class="sig-prename descclassname">minerl.env.core.</code><code class="sig-name descname">MineRLEnv</code><span class="sig-paren">(</span><em class="sig-param">xml</em>, <em class="sig-param">observation_space</em>, <em class="sig-param">action_space</em>, <em class="sig-param">port=None</em>, <em class="sig-param">default_action=None</em><span class="sig-paren">)</span><a class="headerlink" href="#minerl.env.core.MineRLEnv" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">gym.core.Env</span></code></p>
<p>The MineRLEnv class.</p>
<p class="rubric">Example</p>
<p>To actually create a MineRLEnv. Use any one of the package MineRL environments (Todo: Link.)
literal blocks:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">minerl</span>
<span class="kn">import</span> <span class="nn">gym</span>

<span class="n">env</span> <span class="o">=</span> <span class="n">gym</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="s1">&#39;MineRLTreechop-v0&#39;</span><span class="p">)</span> <span class="c1"># Makes a minerl environment.</span>

<span class="c1"># Use env like any other OpenAI gym environment.</span>
<span class="c1"># ...</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xml</strong> (<em>str</em>) – The path to the MissionXML file for this environment.</p></li>
<li><p><strong>observation_space</strong> (<em>gym.Space</em>) – The observation for the environment.</p></li>
<li><p><strong>action_space</strong> (<em>gym.Space</em>) – The action space for the environment.</p></li>
<li><p><strong>port</strong> (<em>int</em><em>, </em><em>optional</em>) – The port of an exisitng Malmo environment. Defaults to None.</p></li>
<li><p><strong>default_action</strong> (<em>Any</em><em>, </em><em>optional</em>) – The no-op action for the environment. This must be in the action_space. Defaults to None.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="minerl.env.core.MineRLEnv.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#minerl.env.core.MineRLEnv.close" title="Permalink to this definition">¶</a></dt>
<dd><p>gym api close</p>
</dd></dl>

<dl class="method">
<dt id="minerl.env.core.MineRLEnv.init">
<code class="sig-name descname">init</code><span class="sig-paren">(</span><em class="sig-param">observation_space</em>, <em class="sig-param">action_space</em>, <em class="sig-param">port=None</em><span class="sig-paren">)</span><a class="headerlink" href="#minerl.env.core.MineRLEnv.init" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes the MineRL Environment.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is called automatically when the environment is made.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>observation_space</strong> (<em>gym.Space</em>) – The observation for the environment.</p></li>
<li><p><strong>action_space</strong> (<em>gym.Space</em>) – The action space for the environment.</p></li>
<li><p><strong>port</strong> (<em>int</em><em>, </em><em>optional</em>) – The port of an exisitng Malmo environment. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>EnvException</strong> – If the Mission XML is malformed this is thrown.</p></li>
<li><p><strong>ValueError</strong> – The space specified for this environment does not have a default action.</p></li>
<li><p><strong>NotImplementedError</strong> – When multiagent environments are attempted to be used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="minerl.env.core.MineRLEnv.metadata">
<code class="sig-name descname">metadata</code><em class="property"> = {'render.modes': []}</em><a class="headerlink" href="#minerl.env.core.MineRLEnv.metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="minerl.env.core.MineRLEnv.reinit">
<code class="sig-name descname">reinit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#minerl.env.core.MineRLEnv.reinit" title="Permalink to this definition">¶</a></dt>
<dd><p>Use carefully to reset the episode count to 0.</p>
</dd></dl>

<dl class="method">
<dt id="minerl.env.core.MineRLEnv.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#minerl.env.core.MineRLEnv.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the state of the environment and returns an initial observation.</p>
<dl class="simple">
<dt>Returns: observation (object): the initial observation of the</dt><dd><p>space.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="minerl.env.core.MineRLEnv.seed">
<code class="sig-name descname">seed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#minerl.env.core.MineRLEnv.seed" title="Permalink to this definition">¶</a></dt>
<dd><p>Seeds the environment.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is NOT implemented.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="minerl.env.core.MineRLEnv.status">
<code class="sig-name descname">status</code><span class="sig-paren">(</span><em class="sig-param">head</em><span class="sig-paren">)</span><a class="headerlink" href="#minerl.env.core.MineRLEnv.status" title="Permalink to this definition">¶</a></dt>
<dd><p>Get status from server.
head - Ping the the head node if True.</p>
</dd></dl>

<dl class="method">
<dt id="minerl.env.core.MineRLEnv.step">
<code class="sig-name descname">step</code><span class="sig-paren">(</span><em class="sig-param">action</em><span class="sig-paren">)</span><a class="headerlink" href="#minerl.env.core.MineRLEnv.step" title="Permalink to this definition">¶</a></dt>
<dd><p>Run one timestep of the environment’s dynamics. When end of
episode is reached, you are responsible for calling <cite>reset()</cite>
to reset this environment’s state.</p>
<p>Accepts an action and returns a tuple (observation, reward, done, info).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>action</strong> (<em>object</em>) – an action provided by the environment</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>agent’s observation of the current environment
reward (float) : amount of reward returned after previous action
done (boolean): whether the episode has ended, in which case further step() calls will return undefined results
info (dict): contains auxiliary diagnostic information (helpful for debugging, and sometimes learning)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>observation (object)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-minerl.env.malmo">
<span id="instancemanager"></span><h2>InstanceManager<a class="headerlink" href="#module-minerl.env.malmo" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="minerl.env.malmo.InstanceManager">
<em class="property">class </em><code class="sig-prename descclassname">minerl.env.malmo.</code><code class="sig-name descname">InstanceManager</code><a class="headerlink" href="#minerl.env.malmo.InstanceManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The Minecraft instance manager library. The instance manager can be used to allocate and safely terminate
existing Malmo instances for training agents.</p>
<p>Note: This object never needs to be explicitly invoked by the user of the MineRL library as the creation of
one of the several MineRL environments will automatically query the InstanceManager to create a new instance.</p>
<p>Note: In future versions of MineRL the instance manager will become its own daemon process which provides
instance allocation capability using remote procedure calls.</p>
<dl class="attribute">
<dt id="minerl.env.malmo.InstanceManager.DEFAULT_IP">
<code class="sig-name descname">DEFAULT_IP</code><em class="property"> = '127.0.0.1'</em><a class="headerlink" href="#minerl.env.malmo.InstanceManager.DEFAULT_IP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="minerl.env.malmo.InstanceManager.MAXINSTANCES">
<code class="sig-name descname">MAXINSTANCES</code><em class="property"> = 10</em><a class="headerlink" href="#minerl.env.malmo.InstanceManager.MAXINSTANCES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="minerl.env.malmo.InstanceManager.MC_COMMAND">
<code class="sig-name descname">MC_COMMAND</code><em class="property"> = '/mnt/disk/workspace/cmu/herobraine/minerl/minerl/env/Malmo/Minecraft/launchHero.sh'</em><a class="headerlink" href="#minerl.env.malmo.InstanceManager.MC_COMMAND" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="minerl.env.malmo.InstanceManager.MINECRAFT_DIR">
<code class="sig-name descname">MINECRAFT_DIR</code><em class="property"> = '/mnt/disk/workspace/cmu/herobraine/minerl/minerl/env/Malmo/Minecraft'</em><a class="headerlink" href="#minerl.env.malmo.InstanceManager.MINECRAFT_DIR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="minerl.env.malmo.InstanceManager.X11_DIR">
<code class="sig-name descname">X11_DIR</code><em class="property"> = '/tmp/.X11-unix'</em><a class="headerlink" href="#minerl.env.malmo.InstanceManager.X11_DIR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="minerl.env.malmo.InstanceManager.add_existing_instance">
<em class="property">classmethod </em><code class="sig-name descname">add_existing_instance</code><span class="sig-paren">(</span><em class="sig-param">port</em><span class="sig-paren">)</span><a class="headerlink" href="#minerl.env.malmo.InstanceManager.add_existing_instance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="minerl.env.malmo.InstanceManager.allocate_pool">
<em class="property">classmethod </em><code class="sig-name descname">allocate_pool</code><span class="sig-paren">(</span><em class="sig-param">num</em><span class="sig-paren">)</span><a class="headerlink" href="#minerl.env.malmo.InstanceManager.allocate_pool" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="minerl.env.malmo.InstanceManager.get_instance">
<em class="property">classmethod </em><code class="sig-name descname">get_instance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#minerl.env.malmo.InstanceManager.get_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets an instance from the instance manager. This method is a context manager
and therefore when the context is entered the method yields a InstanceManager._Instance
object which contains the allocated port and host for the given instance that was created.</p>
<dl class="field-list simple">
<dt class="field-odd">Yields</dt>
<dd class="field-odd"><p>The allocated InstanceManager._Instance object.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>RuntimeError</strong> – No available instances or the maximum number of allocated instances reached.</p></li>
<li><p><strong>RuntimeError</strong> – No available instances and automatic allocation of isntances is off.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="minerl.env.malmo.InstanceManager.headless">
<code class="sig-name descname">headless</code><em class="property"> = False</em><a class="headerlink" href="#minerl.env.malmo.InstanceManager.headless" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="minerl.env.malmo.InstanceManager.managed">
<code class="sig-name descname">managed</code><em class="property"> = True</em><a class="headerlink" href="#minerl.env.malmo.InstanceManager.managed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="minerl.env.malmo.InstanceManager.ninstances">
<code class="sig-name descname">ninstances</code><em class="property"> = 0</em><a class="headerlink" href="#minerl.env.malmo.InstanceManager.ninstances" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="minerl.env.malmo.InstanceManager.shutdown">
<em class="property">classmethod </em><code class="sig-name descname">shutdown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#minerl.env.malmo.InstanceManager.shutdown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="data">
<dt id="minerl.env.malmo.logger">
<code class="sig-prename descclassname">minerl.env.malmo.</code><code class="sig-name descname">logger</code><em class="property"> = &lt;Logger minerl.env.malmo (WARNING)&gt;</em><a class="headerlink" href="#minerl.env.malmo.logger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="data">
<dt id="minerl.env.malmo.malmo_version">
<code class="sig-prename descclassname">minerl.env.malmo.</code><code class="sig-name descname">malmo_version</code><em class="property"> = '0.37.0'</em><a class="headerlink" href="#minerl.env.malmo.malmo_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="data.html" class="btn btn-neutral float-right" title="Data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../tutorials/index.html" class="btn btn-neutral float-left" title="Getting Started and Tutorials" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, William H. Guss, Brandon Houghton, Cayden Codel, Phillip Wang, Nicholay Topin, Stephanie Milani, Manuela Veloso, Ruslan Salakhutdinov

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>